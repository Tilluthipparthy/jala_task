{% extends 'base.html' %}
{% load static %}

{% block content %}
<style>
/* Table container */
.list {
    margin: 20px auto;          /* center the table container */
    max-width: 50%;             /* shrink width (adjust 60â€“80% as needed) */
}

/* Table itself */
table {
    border-collapse: collapse;
    width: 100%;                /* table fills container width */
    font-family: Arial, sans-serif;
    font-size: 13px;            /* slightly smaller font */
    background-color: #fff;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

/* Table headers */
th {
    background-color: #007bff;  /* Bootstrap blue */
    color: #fff;
    text-align: left;
    padding: 6px 8px;           /* reduced padding */
    border: 1px solid #ddd;
    font-weight: 600;
}

/* Table cells */
td {
    border: 1px solid #ddd;
    padding: 6px 8px;           /* reduced padding for compactness */
    vertical-align: middle;
}

/* Zebra striping for rows */
tr:nth-child(even) {
    background-color: #f9f9f9;
}

/* Hover effect */
tr:hover {
    background-color: #f1f1f1;
}

/* Buttons inside table cells */
td form {
    display: inline-block;      /* keep form inline */
    margin: 0;
}

td .btn {
    margin-right: 4px;          /* tighter spacing between buttons */
    padding: 4px 10px;          /* smaller buttons */
    font-size: 12px;
    border-radius: 4px;
    cursor: pointer;
}

/* Primary button */
.btn-primary {
    background-color: #007bff;
    border: none;
    color: #fff;
}

/* Danger button */
.btn-danger {
    background-color: #dc3545;
    border: none;
    color: #fff;
}

/* Success button */
.btn-success {
    background-color: #28a745;
    border: none;
    color: #fff;
}

/* Button hover states */
.btn-primary:hover {
    background-color: #0056b3;
}

.btn-danger:hover {
    background-color: #c82333;
}

.btn-success:hover {
    background-color: #1e7e34;
}
</style>


<form action="{% url 'employee_search' %}" method="get">
    {%csrf_token%}
    <h3>SEARCH EMPLOYEE</h3>
     <div style="width: 300px;">
      <label for="id_emp_lname">employee name</label>
      <input type="text" name="search_emp_name_value" id="" required>
    </div>
     <div class="form-row" style="width: 300px;">
    <label for="id_emp_email">employee number</label>
    <input type="number" name="search_emp_number_value" id="" required>
  </div>
  <button class="btn btn-success">SEARCH EMPLOYEE</button>

  <a href="{% url 'employee_form' %}" class="btn btn-primary">ADD EMPLOYEE</a>
</form>

<div class="list">
    <table border="2">
        <tr>
            <th>first name</th>
            <th>last name</th>
            <th>email</th>
            <th>number</th>
            <th>birth</th>
            <th>address</th>
            <th>country</th>
            <th>city</th>
            <th>other city</th>
            <th>skills</th>
            <th>customize</th>
        </tr>
        {% for emp in all_employees %}
        <tr>
            <td>{{emp.emp_fname}}</td>
            <td>{{emp.emp_lname}}</td>
            <td>{{emp.emp_email}}</td>
            <td>{{emp.emp_number}}</td>
            <td>{{emp.emp_birth}}</td>
            <td>{{emp.emp_address}}</td>
            <td>{{emp.emp_country}}</td>
            <td>{{emp.emp_city}}</td>
            <td>{{emp.emp_ocity}}</td>
            <td>{{emp.emp_skills}}</td>
            
            <td>
                <form action="{% url  'update_employee' emp.id %}" method="post">
                    {% csrf_token %}
                <button value="update" name='update_btn'class="btn btn-success">Update</button>
                <button value="delete" name='delete_btn' class="btn btn-danger">delete</button>
            </form>
        </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="10">no employee found</td>
        </tr>

        {% endfor %}


    </table>

</div>
{%endblock %}